(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"238S":function(e,t,a){e.exports={dropStyle:"dropStyle",user:"user",dowm:"dowm",userIcon:"userIcon",username:"username",loginCss:"loginCss"}},"8Dty":function(e,t,a){e.exports={contras_card:"contras_card",contras_card_default:"contras_card_default",contras_title:"contras_title","ant-table-thead":"ant-table-thead","ant-table-selection-column":"ant-table-selection-column","ant-table-header-column":"ant-table-header-column",historyBox:"historyBox",box_title:"box_title",title_color:"title_color",title_history:"title_history","ant-card-head":"ant-card-head","ant-card-body":"ant-card-body"}},"9Fec":function(e,t,a){var o={"./zh-cn":"0Q5D","./zh-cn.js":"0Q5D"};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=r,e.exports=n,n.id="9Fec"},"FG+t":function(e,t,a){"use strict";a("hFZP");var o=a("xGpb"),n=(a("S/T7"),a("GkzZ")),r=(a("jCfn"),a("j7im")),s=(a("aJ4I"),a("q5M+")),c=(a("r1Tn"),a("F4Bg")),i=a("nNWW"),l=a.n(i),d=(a("PYvm"),a("i2du")),m=a.n(d),u=(a("238S"),a("on7z")),p=c.a.Header,h=m.a.getCookie;t.a=class extends l.a.Component{constructor(){super(...arguments),this.handleDropdownClick=(()=>{Object(u.a)("/user/quit",{method:"POST"}).then(e=>{e&&200===e.code?window.location.href="/login?jumpto=".concat(window.location.href):s.a.error(e.msg)})})}componentDidMount(){h("username")||(window.location.href="/login?jumpto=".concat(window.location.href))}render(){var e=l.a.createElement(n.a,{className:"menu",onClick:this.handleDropdownClick},l.a.createElement(n.a.Item,{key:"logout"},l.a.createElement("span",null,l.a.createElement(r.a,{type:"logout"}),"退出登录")));return h("username")?l.a.createElement(p,{style:{zIndex:9}},l.a.createElement("a",{href:"/",style:{color:"#fff",fontSize:24}},"昂楷科技-测试用例管理平台"),h("username")?l.a.createElement(o.a,{overlay:e,overlayClassName:"dropStyle",placement:"bottomLeft"},l.a.createElement("div",{className:"user"},l.a.createElement(r.a,{type:"user",className:"userIcon"}),l.a.createElement("span",{className:"username"},h("username")),l.a.createElement(r.a,{type:"down",className:"dowm"}))):l.a.createElement("a",{href:"/login",className:"loginCss"},"登录/注册")):null}}},"b+SP":function(e,t,a){"use strict";a.r(t);a("w54L");var o=a("V5gH"),n=(a("5LhE"),a("zVyI")),r=(a("0wgX"),a("T6Va")),s=(a("205n"),a("2tYZ")),c=(a("aJ4I"),a("q5M+")),i=a("nNWW"),l=a.n(i),d=a("Uvjj"),m=a.n(d),u=a("1u6S"),p=a.n(u),h=a("on7z"),f=a("FG+t");a("8Dty");p.a.locale("zh-cn");t.default=class extends l.a.Component{constructor(e){super(e),this.returnCaseList=(()=>{window.history.back()}),this.state={loading:!1,info:[]}}componentDidMount(){this.setState({loading:!0}),Object(h.a)("/backup/getCaseDiff",{method:"GET",params:{caseId1:this.props.match.params.caseId1,caseId2:this.props.match.params.caseId2}}).then(e=>{this.setState({loading:!1}),200===e.code?(this.editorNode.setEditerData(e.data.content.root),this.setState({info:e.data.backupinfo})):c.a.error(e.msg)})}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,null),l.a.createElement(o.a,{tip:"Loading...",spinning:this.state.loading},l.a.createElement("div",{className:"historyBox"},l.a.createElement("div",{className:"box_title"},l.a.createElement(s.a,{bordered:!1,title:"版本比较",className:"title_history"},l.a.createElement("div",{style:{display:"flex"}},this.state.info&&this.state.info.map((e,t)=>l.a.createElement(s.a,{style:{marginRight:20},key:t},l.a.createElement("span",null,"创建人: ",e.user,l.a.createElement("br",null),"创建时间: ",p()(e.time).format("YYYY-MM-DD HH:mm:ss")))))),l.a.createElement(s.a,{bordered:!1,title:"颜色标识",className:"title_color"},l.a.createElement(r.a,{color:"#ddfade"},"该节点被添加"),l.a.createElement(r.a,{color:"#ffe7e7"},"该节点被删除"),l.a.createElement(r.a,{color:"#d6f0ff"},"内容已变更"))),l.a.createElement("div",{style:{display:"inline-block",position:"fixed",bottom:"30px",right:"20px",zIndex:999}},l.a.createElement(n.a,{type:"primary",onClick:this.returnCaseList},"返回"),l.a.createElement("span",null,"    ")),l.a.createElement(m.a,{ref:e=>this.editorNode=e,tags:["前置条件","执行步骤","预期结果"],progressShow:!1,readOnly:!0,mediaShow:!0,editorStyle:{height:"calc(100vh - 240px)"},toolbar:{image:!0,theme:["classic","classic-compact","snow","snow-compact","fish","wire","fresh-red","fresh-soil","fresh-green","fresh-blue","fresh-purple","fresh-pink","fresh-red-compat","fresh-soil-compat","fresh-green-compat","fresh-blue-compat","fresh-purple-compat","fresh-pink-compat","tianpan","tianpan-compact"],template:["default","right","fish-bone","tianpan","structure","filetree"],noteTemplate:"# test"},uploadUrl:"/api/file/uploadAttachment",wsUrl:"ws://".concat(window.location.host,"/api/case/9999/1/0/刘智"),type:"compare"}))))}}},i2du:function(e,t){t.getCookie=function(e){for(var t,a,o=e+"=",n=o.length,r=document.cookie.length,s=0,c=0;s<r;){if(c=s+n,document.cookie.substring(s,c)===o)return t=c,a=void 0,-1===(a=document.cookie.indexOf(";",t))&&(a=document.cookie.length),decodeURI(document.cookie.substring(t,a));if(0===(s=document.cookie.indexOf(" ",s)+1))break}return null}},on7z:function(e,t,a){"use strict";a.d(t,"a",function(){return l});a("TLRS");var o=a("SXAR"),n=a("bLu6"),r=a.n(n),s=a("4tTT"),c=a.n(s);window.apiPrefix="/api",c.a.defaults.timeout=3e5,c.a.defaults.withCredentials=!0;var i={200:"服务器成功返回请求的数据。",201:"新建或修改数据成功。",202:"一个请求已经进入后台排队（异步任务）。",204:"删除数据成功。",400:"发出的请求有错误，服务器没有进行新建或修改数据的操作。",401:"用户没有权限（令牌、用户名、密码错误）。",403:"用户得到授权，但是访问是被禁止的。",404:"发出的请求针对的是不存在的记录，服务器没有进行操作。",406:"请求的格式不可得。",410:"请求的资源被永久删除，且不会再得到的。",422:"当创建一个对象时，发生一个验证错误。",500:"服务器发生错误，请检查服务器。",502:"网关错误。",503:"服务不可用，服务器暂时过载或维护。",504:"网关超时。"};function l(e,t){var a={};if(a.method=void 0!==t?t.method:"get",t&&(t.body&&(a.data="string"==typeof t.body?JSON.parse(t.body):t.body),void 0!==t.params)){for(var n in e+="?",t.params)void 0!==t.params[n]&&""!==t.params[n]&&(e=e+n+"="+t.params[n]+"&");e=e.substring(0,e.length-1)}return c()(r()({url:e},a)).then(e=>{if(401===e.data.code||401===e.code){var t="".concat(e.data.data.login_url,"?app_id=").concat(e.data.data.app_id),a=encodeURIComponent(window.location.href),o="".concat(t,"&version=1.0&jumpto=").concat(a);return window.location.href=o,Promise.reject(new Error("服务不可用，请联系管理员"))}if(99993===e.data.code||99993===e.code){return window.location.href="/login",Promise.reject(new Error("服务不可用，请联系管理员"))}return r()({},e.data)}).catch(e=>{if(e.response){var t=e.response.status,a=i[t]||e.response.statusText;return o.a.error({message:"请求错误 ".concat(t),description:a}),{code:t,message:a}}})}c.a.interceptors.request.use(e=>(e.baseURL=window.apiPrefix,e),e=>Promise.reject(e)),c.a.interceptors.response.use(e=>e,e=>Promise.reject(e))}}]);